<unicauca-spinner></unicauca-spinner>
<section class="login-container" fxLayout="row" fxLayoutAlign="center center">
    <mat-card class="card-container" fxLayout="column" fxLayoutAlign="space-around center">
        <mat-card-header class="login-header" fxLayout="row" fxLayoutAlign="center center">
            <div class="logo" fxLayout="column" fxLayoutAlign="space-around center">
                <div class="icon">
                    <mat-icon>perm_identity</mat-icon>
                </div>
                <mat-card-title>Control interno</mat-card-title>
                <mat-card-subtitle>unicauca apps</mat-card-subtitle>
            </div>
        </mat-card-header>
        <form id="login-form" #lForm="ngForm" [formGroup]="loginForm" (ngSubmit)="submitLogin()" novalidate>
            <mat-card-content>
                <mat-form-field style="width: 100%; margin-bottom: 10px" [ngClass]="{ 'mat-input-invalid': submitted && error?.code == 1 }">
                    <input matInput type="text" formControlName="username" placeholder="Usuario" />
                    <div>
                        <mat-hint style="color: red" *ngIf="
                submitted &&
                error?.code == 1 &&
                !loginForm.controls.username.hasError('required')
              ">{{ error.message }}</mat-hint>
                        <mat-hint style="color: red" *ngIf="
                submitted && loginForm.controls.username.hasError('required')
              ">*Usuario requerido</mat-hint>
                    </div>
                </mat-form-field>
                <mat-form-field style="width: 100%" [ngClass]="{ 'mat-input-invalid': submitted && error?.code == 2 }">
                    <input matInput type="password" formControlName="password" placeholder="Contraseña" />
                    <div>
                        <mat-hint style="color: red" *ngIf="
                submitted &&
                error?.code == 2 &&
                !loginForm.controls.password.hasError('required')
              ">{{ error.message }}</mat-hint>
                        <mat-hint style="color: red" *ngIf="
                submitted && loginForm.controls.password.hasError('required')
              ">*Contraseña requerida</mat-hint>
                    </div>
                </mat-form-field>
            </mat-card-content>
            <div class="button" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="15px">
                <button fxFill mat-raised-button color="primary" type="submit" form="login-form">
          Inicia sesión
        </button>
                <div>
                    <a (click)="rutaOlvidoContra()"><span>¿olvidó la contraseña?</span></a
          >
        </div>
      </div>
    </form>
    <div></div>
    <div></div>
  </mat-card>
</section>
